"use strict";(self.webpackChunkapp_avocat_depoch=self.webpackChunkapp_avocat_depoch||[]).push([[638],{6638:(N,m,d)=>{d.r(m),d.d(m,{AuthentificationModule:()=>w});var u=d(6895),p=d(646),l=d(433),e=d(4650),c=d(9856),h=d(7185);function v(t,r){if(1&t&&(e.TgZ(0,"button",12),e._uU(1,"Se Connecter"),e.qZA()),2&t){const i=e.oxw();e.Q6J("disabled",i.loader||!i.formGroup.valid)}}function b(t,r){1&t&&(e.TgZ(0,"button",13),e._UZ(1,"i",14),e._uU(2," Connexion en cours..."),e.qZA())}function C(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.signUp())}),e._uU(1,"S'inscrire"),e.qZA()}if(2&t){const i=e.oxw();e.Q6J("disabled",i.loader)}}const f=function(t,r){return{"is-valid":t,"is-invalid":r}};let _=(()=>{class t{constructor(i,n,a,o){this.router=i,this.authentificationService=n,this.fb=a,this.toastr=o,this.loader=!1,this.email="",this.password="",this.load=!0}ngOnInit(){this.load=!0,this.formGroup=this.fb.group({email:[this.email,[l.kI.required,l.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:[this.password,l.kI.required]})}get c(){return this.formGroup.controls}login(){this.formGroup.valid?(this.loader=!0,this.authentificationService.login(this.email,this.password).subscribe(i=>{this.loader=!1,i&&(this.authentificationService.storeUserData(i.token,i.user),this.router.navigate(["/admin/droit"]))},i=>{this.loader=!1,this.toastr.error(i.error.msg)})):this.toastr.warning("Un des format de vos champs est incorrect")}signUp(){this.router.navigate(["/admin/login/signUp"])}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(p.F0),e.Y36(c.g),e.Y36(l.qu),e.Y36(h._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:18,vars:14,consts:[[1,"login-dark"],["method","post",3,"formGroup","ngSubmit"],[1,"sr-only"],[1,"illustration"],[1,"icon","ion-home"],[1,"form-group"],["type","email","name","email","formControlName","email","placeholder","Email",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"invalid-feedback"],["type","password","name","password","formControlName","password","placeholder","Mot de passe",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["class","btn btn-primary btn-block","type","submit",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-block","type","button","disabled","",4,"ngIf"],["class","btn btn-success btn-block","type","button",3,"disabled","click",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["type","button","disabled","",1,"btn","btn-primary","btn-block"],[1,"fa","fa-spinner","fa-spin"],["type","button",1,"btn","btn-success","btn-block",3,"disabled","click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.login()}),e.TgZ(2,"h2",2),e._uU(3,"Login"),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"i",4),e.qZA(),e.TgZ(6,"div",5)(7,"input",6),e.NdJ("ngModelChange",function(o){return n.email=o}),e.qZA(),e.TgZ(8,"div",7),e._uU(9," Email required "),e.qZA()(),e.TgZ(10,"div",5)(11,"input",8),e.NdJ("ngModelChange",function(o){return n.password=o}),e.qZA(),e.TgZ(12,"div",7),e._uU(13," Password required "),e.qZA()(),e.TgZ(14,"div",5),e.YNc(15,v,2,1,"button",9),e.YNc(16,b,3,0,"button",10),e.YNc(17,C,2,1,"button",11),e.qZA()()()),2&i&&(e.xp6(1),e.Q6J("formGroup",n.formGroup),e.xp6(6),e.Q6J("ngModel",n.email)("ngClass",e.WLB(8,f,n.c.email.valid,n.c.email.invalid&&(n.c.email.dirty||n.c.email.touched))),e.xp6(4),e.Q6J("ngModel",n.password)("ngClass",e.WLB(11,f,n.c.password.valid,n.c.password.invalid&&(n.c.password.dirty||n.c.password.touched))),e.xp6(4),e.Q6J("ngIf",!n.loader),e.xp6(1),e.Q6J("ngIf",n.loader),e.xp6(1),e.Q6J("ngIf",!n.loader))},dependencies:[u.mk,u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),t})();var g=d(2340),Z=d(529);let T=(()=>{class t{constructor(i){this.httpClient=i}getAll(){return this.httpClient.get(g.N.end_point+"Users")}save(i){return this.httpClient.post(g.N.end_point+"User",i)}update(i){return this.httpClient.put(g.N.end_point+"User",i)}delete(i){return this.httpClient.delete(g.N.end_point+"User/"+i)}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(Z.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function M(t,r){if(1&t&&(e.TgZ(0,"button",33),e._uU(1,"S'inscrire"),e.qZA()),2&t){const i=e.oxw();e.Q6J("disabled",i.loader||!i.formGroup.valid)}}function A(t,r){1&t&&(e.TgZ(0,"button",34),e._UZ(1,"i",35),e._uU(2," Inscription en cours..."),e.qZA())}function y(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.login())}),e._uU(1,"Se Connecter"),e.qZA()}if(2&t){const i=e.oxw();e.Q6J("disabled",i.loader)}}const s=function(t,r){return{"is-valid":t,"is-invalid":r}},U=[{path:"",component:_,canActivate:[(()=>{class t{constructor(i,n){this.authentificationService=i,this.router=n}canActivate(i,n){return!this.authentificationService.loggedIn()||(this.router.navigate(["/admin/droit/"]),!1)}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(c.g),e.LFG(p.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"signUp",component:(()=>{class t{constructor(i,n,a,o){this.router=i,this.signUpService=n,this.fb=a,this.toastr=o,this.currentDate=new Date,this.loader=!1,this.load=!0,this.firstname="",this.lastname="",this.username="",this.email="",this.password="",this.phone="",this.barreau="",this.website="",this.bio="",this.activated=!0,this.activationLimit=this.currentDate,this.activationCode="",this.roles=[],this.profilePicture="",this.isImage=!1,this.imagePath=""}ngOnInit(){this.load=!0,this.formGroup=this.fb.group({firstname:[this.firstname],lastname:[this.lastname],username:[this.username],email:[this.email],password:[this.password],phone:[this.phone],barreau:[this.barreau],website:[this.website],bio:[this.bio],activated:[this.activated],activationLimit:[this.activationLimit],activationCode:[this.activationCode],roles:[this.roles],profilePicture:[this.profilePicture]})}get c(){return this.formGroup.controls}login(){this.router.navigate(["/admin/login"])}signUp(){this.formGroup.valid?(this.loader=!0,this.signUpService.save(this.formGroup.value).subscribe(i=>{this.loader=!1,i.error||(this.toastr.success("Vous \xeates inscrit"),this.router.navigate(["/admin/droit"]))},i=>{this.loader=!1,this.toastr.error(i.error.msg)})):this.toastr.warning("Un des format de vos champs est incorrect")}handleUpload(i){const n=i.target.files[0],a=new FileReader;a.readAsDataURL(n),a.onload=()=>{console.log(this.formGroup.value)}}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(p.F0),e.Y36(T),e.Y36(l.qu),e.Y36(h._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-signup"]],decls:102,vars:68,consts:[["id","page-top"],["id","wrapper"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[1,"container-fluid"],[1,"row"],[1,"col-md-2"],[1,"col-md-8"],[2,"text-align","center"],[3,"formGroup","ngSubmit"],[1,"card","shadow"],[1,"card-body"],[1,"col"],[1,"col-md-6"],[1,"form-group"],["type","text","formControlName","firstname",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"invalid-feedback"],["type","text","formControlName","lastname",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","formControlName","username",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","email","formControlName","email",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","password","formControlName","password",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","formControlName","phone",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","formControlName","barreau",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","formControlName","website",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","formControlName","bio",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","date","formControlName","activationLimit",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","formControlName","activationCode",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","formControlName","roles",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","file","formControlName","profilePicture",1,"form-control",3,"ngClass","change"],[1,"card-footer","text-right"],["class","btn btn-primary btn-block","type","submit",3,"disabled",4,"ngIf"],["class","btn btn-primary btn-block","type","button","disabled","",4,"ngIf"],["class","btn btn-success btn-block","type","button",3,"disabled","click",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["type","button","disabled","",1,"btn","btn-primary","btn-block"],[1,"fa","fa-spinner","fa-spin"],["type","button",1,"btn","btn-success","btn-block",3,"disabled","click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"div",6),e.TgZ(7,"div",7)(8,"h1",8),e._uU(9,"S'inscrire"),e.qZA(),e.TgZ(10,"form",9),e.NdJ("ngSubmit",function(){return n.signUp()}),e.TgZ(11,"div",10)(12,"div",11)(13,"div",5)(14,"div",12)(15,"div",4)(16,"div",5)(17,"div",13)(18,"div",14)(19,"label"),e._uU(20,"firstname :"),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(o){return n.firstname=o}),e.qZA(),e.TgZ(22,"div",16),e._uU(23," Veuillez remplir le champ "),e.qZA()(),e.TgZ(24,"div",14)(25,"label"),e._uU(26,"lastname :"),e.qZA(),e.TgZ(27,"input",17),e.NdJ("ngModelChange",function(o){return n.lastname=o}),e.qZA(),e.TgZ(28,"div",16),e._uU(29," Veuillez remplir le champ "),e.qZA()(),e.TgZ(30,"div",14)(31,"label"),e._uU(32,"username :"),e.qZA(),e.TgZ(33,"input",18),e.NdJ("ngModelChange",function(o){return n.username=o}),e.qZA(),e.TgZ(34,"div",16),e._uU(35," Veuillez remplir le champ "),e.qZA()(),e.TgZ(36,"div",14)(37,"label"),e._uU(38,"email :"),e.qZA(),e.TgZ(39,"input",19),e.NdJ("ngModelChange",function(o){return n.email=o}),e.qZA(),e.TgZ(40,"div",16),e._uU(41," Veuillez remplir le champ "),e.qZA()(),e.TgZ(42,"div",14)(43,"label"),e._uU(44,"password :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(o){return n.password=o}),e.qZA(),e.TgZ(46,"div",16),e._uU(47," Veuillez remplir le champ "),e.qZA()(),e.TgZ(48,"div",14)(49,"label"),e._uU(50,"phone :"),e.qZA(),e.TgZ(51,"input",21),e.NdJ("ngModelChange",function(o){return n.phone=o}),e.qZA(),e.TgZ(52,"div",16),e._uU(53," Veuillez remplir le champ "),e.qZA()(),e.TgZ(54,"div",14)(55,"label"),e._uU(56,"barreau :"),e.qZA(),e.TgZ(57,"input",22),e.NdJ("ngModelChange",function(o){return n.barreau=o}),e.qZA(),e.TgZ(58,"div",16),e._uU(59," Veuillez remplir le champ "),e.qZA()()(),e.TgZ(60,"div",13)(61,"div",14)(62,"label"),e._uU(63,"website :"),e.qZA(),e.TgZ(64,"input",23),e.NdJ("ngModelChange",function(o){return n.website=o}),e.qZA(),e.TgZ(65,"div",16),e._uU(66," Veuillez remplir le champ "),e.qZA()(),e.TgZ(67,"div",14)(68,"label"),e._uU(69,"bio :"),e.qZA(),e.TgZ(70,"input",24),e.NdJ("ngModelChange",function(o){return n.bio=o}),e.qZA(),e.TgZ(71,"div",16),e._uU(72," Veuillez remplir le champ "),e.qZA()(),e.TgZ(73,"div",14)(74,"label"),e._uU(75,"activationLimit :"),e.qZA(),e.TgZ(76,"input",25),e.NdJ("ngModelChange",function(o){return n.activationLimit=o}),e.qZA(),e.TgZ(77,"div",16),e._uU(78," Veuillez remplir le champ "),e.qZA()(),e.TgZ(79,"div",14)(80,"label"),e._uU(81,"activationCode :"),e.qZA(),e.TgZ(82,"input",26),e.NdJ("ngModelChange",function(o){return n.activationCode=o}),e.qZA(),e.TgZ(83,"div",16),e._uU(84," Veuillez remplir le champ "),e.qZA()(),e.TgZ(85,"div",14)(86,"label"),e._uU(87,"roles :"),e.qZA(),e.TgZ(88,"input",27),e.NdJ("ngModelChange",function(o){return n.roles=o}),e.qZA(),e.TgZ(89,"div",16),e._uU(90," Veuillez remplir le champ "),e.qZA()(),e.TgZ(91,"div",14)(92,"label"),e._uU(93,"profilePicture :"),e.qZA(),e.TgZ(94,"input",28),e.NdJ("change",function(o){return n.handleUpload(o)}),e.qZA(),e.TgZ(95,"div",16),e._uU(96," Veuillez remplir le champ "),e.qZA()()()()()()()(),e.TgZ(97,"div",29),e.YNc(98,M,2,1,"button",30),e.YNc(99,A,3,0,"button",31),e.YNc(100,y,2,1,"button",32),e.qZA()()()(),e._UZ(101,"div",6),e.qZA()()()()()()),2&i&&(e.xp6(10),e.Q6J("formGroup",n.formGroup),e.xp6(11),e.Q6J("ngModel",n.firstname)("ngClass",e.WLB(29,s,n.c.firstname.valid,n.c.firstname.invalid&&(n.c.firstname.dirty||n.c.firstname.touched))),e.xp6(6),e.Q6J("ngModel",n.lastname)("ngClass",e.WLB(32,s,n.c.lastname.valid,n.c.lastname.invalid&&(n.c.lastname.dirty||n.c.lastname.touched))),e.xp6(6),e.Q6J("ngModel",n.username)("ngClass",e.WLB(35,s,n.c.username.valid,n.c.username.invalid&&(n.c.username.dirty||n.c.username.touched))),e.xp6(6),e.Q6J("ngModel",n.email)("ngClass",e.WLB(38,s,n.c.email.valid,n.c.email.invalid&&(n.c.email.dirty||n.c.email.touched))),e.xp6(6),e.Q6J("ngModel",n.password)("ngClass",e.WLB(41,s,n.c.password.valid,n.c.password.invalid&&(n.c.password.dirty||n.c.password.touched))),e.xp6(6),e.Q6J("ngModel",n.phone)("ngClass",e.WLB(44,s,n.c.phone.valid,n.c.phone.invalid&&(n.c.phone.dirty||n.c.phone.touched))),e.xp6(6),e.Q6J("ngModel",n.barreau)("ngClass",e.WLB(47,s,n.c.barreau.valid,n.c.barreau.invalid&&(n.c.barreau.dirty||n.c.barreau.touched))),e.xp6(7),e.Q6J("ngModel",n.website)("ngClass",e.WLB(50,s,n.c.website.valid,n.c.website.invalid&&(n.c.website.dirty||n.c.website.touched))),e.xp6(6),e.Q6J("ngModel",n.bio)("ngClass",e.WLB(53,s,n.c.bio.valid,n.c.bio.invalid&&(n.c.bio.dirty||n.c.bio.touched))),e.xp6(6),e.Q6J("ngModel",n.activationLimit)("ngClass",e.WLB(56,s,n.c.activationLimit.valid,n.c.activationLimit.invalid&&(n.c.activationLimit.dirty||n.c.activationLimit.touched))),e.xp6(6),e.Q6J("ngModel",n.activationCode)("ngClass",e.WLB(59,s,n.c.activationCode.valid,n.c.activationCode.invalid&&(n.c.activationCode.dirty||n.c.activationCode.touched))),e.xp6(6),e.Q6J("ngModel",n.roles)("ngClass",e.WLB(62,s,n.c.roles.valid,n.c.roles.invalid&&(n.c.roles.dirty||n.c.roles.touched))),e.xp6(6),e.Q6J("ngClass",e.WLB(65,s,n.c.profilePicture.valid,n.c.profilePicture.invalid&&(n.c.profilePicture.dirty||n.c.profilePicture.touched))),e.xp6(4),e.Q6J("ngIf",!n.loader),e.xp6(1),e.Q6J("ngIf",n.loader),e.xp6(1),e.Q6J("ngIf",!n.loader))},dependencies:[u.mk,u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),t})()}];let J=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(U),p.Bz]}),t})();var q=d(2271);let w=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,J,q.m]}),t})()}}]);